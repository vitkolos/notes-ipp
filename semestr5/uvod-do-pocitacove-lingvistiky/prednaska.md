# Úvod do počítačové lingvistiky

## Morfologie

- indický lingvista Pānini ve 4. století př.n.l. formuloval pravidla morfologie sanskrtu
	- jeden ze zakladatelů moderní lingvisitky, Ferdinand de Saussure, byl profesorem sanskrtu
- předmětem morfologie je studium vnitřní struktury slov
- lexikologie – slova se studují jako jednotky slovní zásoby
- lexikografie – sestavování slovníků
- morfém – nejmenší znaková jednotka jazyka nesoucí význam
	- lexikální morfém – nese význam slova jako takového
	- gramatický morfém – určuje gramatickou roli slovního tvaru
- další pojmy
	- morfologie studuje skloňování a časování
	- tvaroslovné dublety – odlišné slovní tvary mající stejnou gramatickou funkci (na hradě / o hradu, o balíčcích/balíčkách apod.)
	- homonymní tvary – stejné slovní tvary odvozené od různých slovních základů (žena, tři, hnát, stát, už apod.)
	- alternace – změna hlásek uvnitř kmene (vůz – vozu, švec – ševce, prkno – prken)
	- autosémantická (plnovýznamová) slova
	- synsémantická (pomocná) slova
- morfologická typologie jazyků
	- přílkad: vyjádření množného čísla – nulový rozdíl, funkční slovo, afixace, zvukový rozdíl, reduplikace
	- jazyky
		- analytické – slovo = morfém
			- izolační jazyky
		- syntetické – slovo > morfém
			- flektivní jazyky (skloňování, časování, hodně tvarů ke každému základu)
				- introflexe – změny probíhají v kořeni
			- aglutinační jazyky (lepí se k sobě morfémy)
		- polysyntetické – slovo = věta
- přístupy ke zpracování morfologie
	- morfologie založená na morfémech – vidí slovo jako řetízek morfémů, jako korálky na niti
	- morfologie založená na lexémech – vidí slovo jako výsledek aplikace pravidel, která slovo mění a tím vytváří nový slovní tvar
	- morfologie založená na slovech – centrální roli mají vzory
		- ze základního tvaru a vzoru (k němuž slovo patří) umíme vygenerovat všechny tvary slova
- Two-Level Morphology
	- první obecný model zpracování morfologie přirozeného jazyka
	- založen na konečných automatech
	- tradiční počítačové zpracování morfologie se orientovalo na generování tvarů slov ze základního tvaru – nebralo v úvahu, že opačný směr (analýza) může být víceznačný
	- 2 úrovně – lexikální a povrchová
	- základní myšlenky
		- pravidla se aplikují paralelně, ne sekvenčně
		- podmínky se mohou vztahovat k jedné nebo oběma úrovním
		- lexikální vyhledávání (trie) a morfologická analýza probíhají současně
- česká morfologie
	- vyvíjena od roku 1989 zejména profesorem Hajičem
	- využívá poziční značky, každá pozice má svůj jednoznačný význam
	- značky jsou 15místné, rozeznává se pouze 13 kategorií
	- lemma – jednoznačný identifikátor slova
- činnosti využívající morfologii
	- morfologická analýza – na vstupu slovní tvar, na výstupu seznam všech lemmat a značek, které jsou pravděpodobné
	- morfologické značkování (tagging) – proces výběru správné značky v daném kontextu (statistické metody)
	- částečná morfologická desambiguace založená na pravidlech (Olive, Petkevič) – pomocí spolehlivých pravidel redukuje počet značek
	- lemmatizace – na vstupu slovní tvar, na výstupu lemma
	- stemming – odříznutí koncovky (na vstupu slovní tvar, na výstupu kmen slova)
	- generování – výběr správného slovního tvaru na základě lemmatu a kombinace gramatických kategorií
- ^^ doplnit
- značkování bere v úvahu kontext přibližně tří slov
- v češtině je více značek než v angličtině (v angličtině do stovky, v češtině kolem tisíce)
- skryté Markovovy modely (HMM)
	- standardní metoda analýzy řad (poslopuností událostí v čase) na základě kontextu
	- posloupnost rozhodnutí, která jsou na sobě závislá
	- …
- HMM se skládají z následujících komponent
	- množina N stavů
	- matice přechodových pravděpodobností (pravděpodobnost přechodu z jednoho stavu do druhého)
	- posloupnost pravděpodobností pozorování (pravděpodobnost nějakého pozorování v konkrétním stavu)
	- počáteční distribuce pravděpodobností nad stavy
- tři základní úlohy s HMM
	- …
- měření úspěšnosti
	- precision
	- recall
	- F-measure (míra F)
- kontrola překlepů
	- porovnávání řetězců se slovy ve slovníků
	- srovnávání skupin znaků, hledání nedovolených kombinací
- metody strojového učení berou v úvahu kontext
- komerční řešení
	- k omezení množství nabízených tvarů se používá Levenštejnova vzdálenost
	- upřednostňuje se přesnost (nenalezené chyby autor nevidí :)) a rychlost
	- uživatel nechce být rušen – kontrola se provádí na pozadí, nemusí se ručně pouštět
	- uživatelsky definované slovníky nemají morfologii :(
- kontextové metody kontroly překlepů
	- některé chyby nelze odhalit jen pomocí slovníku – weather/whether, there/their apod.
	- spell checkery využívající kontext obvykle používají statistické metody nebo strojové učení
	- záměnná množina (confusion set) – množina tvarů, u nichž může snadno dojít k záměně
- příklady využití pravidelnosti české morfologie
	- systém ASIMUT
		- vyhledává klíčová slova v rozsáhlé množině textů
		- nemá kompletní slovník českých lemmat
		- aby mohl vyhledávat vyskloňované tvary klíčových slov, využívá pozorování, že mnoho slov, která mají v základním tvaru stejný koncový segment, se stejně skloňuje
		- má také slovník výjimek
		- řeší rovněž různé varianty kmenů
		- má 31 vzorů podstatných a přídavných jmen
		- slova, která končí na „ý“ a nejsou to přídavná jména podle vzoru mladý
			- úterý
			- prý
			- čehý
		- někdy nám nepomůže libovolně dlouhý koncový segment – trávník × právník
		- negativní slovník
			- slova, která nás nezajímají
			- typicky spojky, částice
	- systém MOZAIKA
		- indexace dokumentů
		- není nutné vytvářet slovníky odborných termínů, vystačí si s množinou relevantních přípon a koncovek + pravidly a negativním slovníkem
		- přiděluje váhy výskytům slov
		- neřeší ale třeba to, že ve větách může být nějaké slovo přítomno jako nevyjádřený podmět

## Syntaxe

- používají se dva hlavní datové typy – závislostní strom a složkový strom
- závislostní strom
	- přibližně to, co se učí ve škole (akorát klíčové je sloveso, pod něj se všechno napojuje)
- anglosaská tradice používá trochu jiný strom než ta naše, která se učí ve škole
	- složkový strom
- věta se dělí na jmennou a slovesnou část
- závislostní stromy se lépe používají
- závislostní strom je pětice $T=\braket{N,E,Q,WO,L}$
	- $(N,E)$ … orientovaný graf
	- $Q$ … gramatické kategorie (popisky uzlů)
	- $WO\subseteq N\times N$ … silné úplné uspořádání (určuje požádek slov)
	- $L:N\to Q$ … ohodnocovací funkce
- závislostní strom vytvořený podle této definice má přesně tolik uzlů, kolik je prvků (tokenů) ve větě (slova, interpunkční znaménka)
	- strom nedává informace o postupu vytváření
- složkový strom
	- složka (constituent) = skupina slov, která fungují společně a tvoří jednu syntaktickou jednotku
	- složku můžeme ve větě rozpoznat například pomocí nahrazovacího testu
		- Studenti potkali **své přátele** po vyučování.
		- Studenti **je** potkali po vyučování.
	- nebo testem přesunem
		- Jane bought a hat from that strange little shop.
		- \*From that strange Jane bought a hat little shop.
	- v češtině se dá často pořadí slov měnit
		- ale existuje [Wackernagelův zákon](https://cs.wikipedia.org/wiki/Wackernagel%C5%AFv_z%C3%A1kon)
- závislostní strom
	- zachycuje vztahy mezi větnými členy
	- nedává návod, jak strom získat
	- ne všechny vztahy ve větě jsou přirozeně popsatelné jako závislost, není vždy jasné, co na čem závisí
		- třeba u souřadného spojení „Petr a Pavel“ (tzv. koordinace) si musíme vybrat, kdo bude nadřazený
		- slovo „Petr“ reprezentuje celou skupinu, je v čísle jednotném, ale skupina je v čísle množném
		- asi by nejlépe fungovalo, kdybychom přidali speciální uzel za koordinaci
		- podobně problematické jsou předložky – není jasné, jestli mají být nad nebo pod jménem
- složkový strom
	- odpovídá derivačnímu stromu bezkontextové gramatiky
	- je méně přehledný, mnohdy obsahuje mnoho nadbytečných uzlů
	- přirozené jazyky nebývají bezkontextové
- neprojektivní konstrukce
	- příklady
		- Soubor se nepodařilo otevřít.
		- Vánoeční nadešel čas.
		- Které děvčata chtěla dostat ovoce?
		- Tuto knihu jsem se mu rozhodl dát k narozeninám.
		- Proti odvolání se zítra Petr v práci nakonec důrazně rozhodl protestovat.
	- větu nelze rozdělit do složkového stromu – vertikály z uzlů protínají hrany
	- některá slovesa mají povinné vazby
	- jakmile jsou ve větě dlouhé neprojektivní vazby nad rámec těch povinných, můžou být nejednoznačné
	- definice: pokrytí uzlu, díry
- nástroje pro syntaktickou analýzu
	- Q-systémy
		- kompletní gramatika se může skládat z více Q-systémů, které na sebe navazují
		- provádí se linearizace stromu
		- pravidla mají omezený počet proměnných
